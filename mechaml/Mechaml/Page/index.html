<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Page (mechaml.Mechaml.Page)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">mechaml</a> &#x00BB; <a href="../index.html">Mechaml</a> &#x00BB; Page</nav><h1>Module <code>Mechaml.Page</code></h1></header><aside><p>Page</p><p>This module contains all the functions used to analyze a page, select specific elements, and manage forms.</p></aside><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type </span>t</code></dt><dd><p>The type of an html page</p></dd></dl><dl><dt class="spec value" id="val-from_soup"><a href="#val-from_soup" class="anchor"></a><code><span class="keyword">val </span>from_soup : ?&#8288;location:Uri.t <span>&#45;&gt;</span> Soup.soup Soup.node <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Make a new page from a base URI and a Lambdasoup document</p></dd></dl><dl><dt class="spec value" id="val-from_string"><a href="#val-from_string" class="anchor"></a><code><span class="keyword">val </span>from_string : ?&#8288;location:Uri.t <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Make a new page from a base URI and an HTML string</p></dd></dl><dl><dt class="spec value" id="val-base_uri"><a href="#val-base_uri" class="anchor"></a><code><span class="keyword">val </span>base_uri : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Uri.t</code></dt><dd><p>Return the location of a page (or <code>Uri.empty</code> if not specified)</p></dd></dl><dl><dt class="spec value" id="val-resolver"><a href="#val-resolver" class="anchor"></a><code><span class="keyword">val </span>resolver : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Uri.t <span>&#45;&gt;</span> Uri.t</code></dt><dd><p>Return the resolver of page, which is a function that takes relative URIs of the page to absolute ones using the page base URI</p></dd></dl><dl><dt class="spec value" id="val-soup"><a href="#val-soup" class="anchor"></a><code><span class="keyword">val </span>soup : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Soup.soup Soup.node</code></dt><dd><p>Convert to a Lambdasoup HTML node</p></dd></dl><section><header><h2 id="lazy-sequences"><a href="#lazy-sequences" class="anchor"></a>Lazy sequences</h2><p>Lambdasoup provides lazy sequences to traverse only needed part of an HTML document when used in combination with <code>with_stop</code>. We provide a wrapper that is compatible with Mechaml types such as forms, images, inputs, etc.</p></header><dl><dt class="spec type" id="type-seq"><a href="#type-seq" class="anchor"></a><code><span class="keyword">type </span>+'a seq</code></dt><dd><p>Lazy sequences of HTML elements. See <code>Soup.nodes</code> type</p></dd></dl><dl><dt class="spec type" id="type-stop"><a href="#type-stop" class="anchor"></a><code><span class="keyword">type </span>'a stop</code><code><span class="keyword"> = </span><span class="type-var">'a</span> Soup.stop</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-stop.throw" class="anchored"><td class="def field"><a href="#type-stop.throw" class="anchor"></a><code>throw : b. <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>;</code></td></tr></table><code>}</code></dt><dd><p><code>Soup.stop</code> type</p></dd></dl><aside><p>Operations on lazy sequences</p></aside><dl><dt class="spec value" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span class="keyword">val </span>iter : (<span class="type-var">'a</span> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-seq">seq</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-fold"><a href="#val-fold" class="anchor"></a><code><span class="keyword">val </span>fold : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-seq">seq</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-filter"><a href="#val-filter" class="anchor"></a><code><span class="keyword">val </span>filter : (<span class="type-var">'a</span> <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-seq">seq</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-seq">seq</a></code></dt><dt class="spec value" id="val-first"><a href="#val-first" class="anchor"></a><code><span class="keyword">val </span>first : <span class="type-var">'a</span> <a href="index.html#type-seq">seq</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> option</code></dt><dt class="spec value" id="val-nth"><a href="#val-nth" class="anchor"></a><code><span class="keyword">val </span>nth : int <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-seq">seq</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> option</code></dt><dt class="spec value" id="val-find_first"><a href="#val-find_first" class="anchor"></a><code><span class="keyword">val </span>find_first : (<span class="type-var">'a</span> <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-seq">seq</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> option</code></dt><dt class="spec value" id="val-to_list"><a href="#val-to_list" class="anchor"></a><code><span class="keyword">val </span>to_list : <span class="type-var">'a</span> <a href="index.html#type-seq">seq</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> list</code></dt><dt class="spec value" id="val-with_stop"><a href="#val-with_stop" class="anchor"></a><code><span class="keyword">val </span>with_stop : (<span class="type-var">'a</span> <a href="index.html#type-stop">stop</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>see Lambdasoup's <code>Soup.with_stop</code></p></dd></dl><section><header><h3 id="form"><a href="#form" class="anchor"></a>Form</h3></header><dl><dt class="spec module" id="module-Form"><a href="#module-Form" class="anchor"></a><code><span class="keyword">module </span><a href="Form/index.html">Form</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Operations on forms and inputs</p></dd></dl><section><header><h4 id="images-and-links"><a href="#images-and-links" class="anchor"></a>Images and links</h4></header><dl><dt class="spec module" id="module-Link"><a href="#module-Link" class="anchor"></a><code><span class="keyword">module </span><a href="Link/index.html">Link</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Operations on hypertext links</p></dd></dl><dl><dt class="spec module" id="module-Image"><a href="#module-Image" class="anchor"></a><code><span class="keyword">module </span><a href="Image/index.html">Image</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Operations on images</p></dd></dl></section><section><header><h4 id="nodes-selection"><a href="#nodes-selection" class="anchor"></a>Nodes selection</h4></header><aside><p>All the following function are built using the same pattern.</p><ul><li>xxxs (eg <a href="index.html#val-forms"><code>forms</code></a>) return all the elements of a certain type as a lazy sequence. For example, <code>forms mypage</code> will return all the forms in the page</li><li>xxx_with take a CSS selector as parameter, and return the first element that matches the selector, or <code>None</code> if there isn't any. Eg, <code>link_with &quot;[href$=.jpg]&quot; mypage</code> will try to find a link that point to a JPEG image</li><li>xxxs_with proceed as the previous one, but return a lazy sequence of all elements matching the selector.</li></ul></aside><dl><dt class="spec value" id="val-form_with"><a href="#val-form_with" class="anchor"></a><code><span class="keyword">val </span>form_with : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Form/index.html#type-t">Form.t</a> option</code></dt><dt class="spec value" id="val-forms_with"><a href="#val-forms_with" class="anchor"></a><code><span class="keyword">val </span>forms_with : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Form/index.html#type-t">Form.t</a> <a href="index.html#type-seq">seq</a></code></dt><dt class="spec value" id="val-forms"><a href="#val-forms" class="anchor"></a><code><span class="keyword">val </span>forms : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Form/index.html#type-t">Form.t</a> <a href="index.html#type-seq">seq</a></code></dt><dt class="spec value" id="val-link_with"><a href="#val-link_with" class="anchor"></a><code><span class="keyword">val </span>link_with : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Link/index.html#type-t">Link.t</a> option</code></dt><dt class="spec value" id="val-links_with"><a href="#val-links_with" class="anchor"></a><code><span class="keyword">val </span>links_with : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Link/index.html#type-t">Link.t</a> <a href="index.html#type-seq">seq</a></code></dt><dt class="spec value" id="val-links"><a href="#val-links" class="anchor"></a><code><span class="keyword">val </span>links : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Link/index.html#type-t">Link.t</a> <a href="index.html#type-seq">seq</a></code></dt><dt class="spec value" id="val-image_with"><a href="#val-image_with" class="anchor"></a><code><span class="keyword">val </span>image_with : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Image/index.html#type-t">Image.t</a> option</code></dt><dt class="spec value" id="val-images_with"><a href="#val-images_with" class="anchor"></a><code><span class="keyword">val </span>images_with : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Image/index.html#type-t">Image.t</a> <a href="index.html#type-seq">seq</a></code></dt><dt class="spec value" id="val-images"><a href="#val-images" class="anchor"></a><code><span class="keyword">val </span>images : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Image/index.html#type-t">Image.t</a> <a href="index.html#type-seq">seq</a></code></dt></dl></section></section></section></div></body></html>